spring.config.import=optional:configtree:/run/secrets/

# Server Port
server.port=8080

# Spring Data Source Configuration (PostgreSQL)
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${POSTGRES_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=update 
# 'update' pour les schémas existants, 'create-drop' pour développement rapide
spring.jpa.show-sql=true 
# Affiche les requêtes SQL dans les logs
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Redis Configuration
spring.data.redis.host=${REDIS_HOST}
spring.data.redis.port=${REDIS_PORT}
#spring.redis.password=${REDIS_PASSWORD:}
#spring.redis.timeout=2000

# Jackson / Timezone configuration
spring.jackson.time-zone=Europe/Paris
spring.jackson.date-format=yyyy-MM-dd'T'HH:mm:ss
spring.jackson.serialization.write-dates-as-timestamps=false

# Ensure Hibernate/JDBC uses the configured timezone when reading/writing TIMESTAMP types
spring.jpa.properties.hibernate.jdbc.time_zone=Europe/Paris

# Actuator Endpoints (pour le healthcheck Docker)
management.endpoints.web.exposure.include=health,info
